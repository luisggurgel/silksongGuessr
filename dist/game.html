<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="shortcut icon" href="/assets/icons/favicon.png" type="image/x-icon">
	<title>Silksong Guessr</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script type="module" crossorigin src="/assets/game-Bjd6vJhu.js"></script>
  <link rel="modulepreload" crossorigin href="/assets/modulepreload-polyfill-B5Qt9EMX.js">
  <link rel="modulepreload" crossorigin href="/assets/api-Lm5KxLvI.js">
  <link rel="stylesheet" crossorigin href="/assets/game-DxAFv4gJ.css">
  <link rel="stylesheet" crossorigin href="/assets/style-CQ51kR6Q.css">
</head>

<body>
	<div id="imageWrapper">
		<div id="blurBg"></div>
		<img id="locationImg" src="" alt=""></img>
	</div>

	<div id="mapContainer">
		<canvas id="mapCanvas"></canvas>
		<div id="roundScoreDisplay"></div>
		<br />
		<div id="controlsContainer">
			<button id="guessButton">Guess!</button>
			<button id="fullscreenButton">
				<img src="/images/game/fullscreen.svg" alt="FS" style="max-width: 100%; padding: 3px" />
			</button>
		</div>
		<button id="minimiseButton">
			<img src="/images/game/arrow-down.svg" alt="V" style="max-width: 100%; padding: 3px" id="minimiseIcon" />
		</button>
	</div>

	<div id="modalOverlay" class="modal-overlay visible"></div>

	<p id="loadingText" style="display: none;">Loading Image...</p>
	<p id="mapLoadingText" style="display: none;">Loading Map...</p>

	<div style="z-index: 1100;">
		<div id="speedrunTimer">
			<span id="totalTime">0.00</span>
			<span id="locationTime">0.00</span>
		</div>
		<div id="topRightContainer">
			<button id="newGameButton">End Game</button>
		</div>
		<div id="bottomLeftContainer">
			<span id="seededIndicator" style="opacity: 0.2; font-size: 1rem; display: none;">SEEDED RUN</span>
		</div>
		<div id="scoreContainer">
			<span id="round">0/5</span>
			<span id="timeLimitDisplay"></span>
		</div>
	</div>

	<div id="gameOptionsWindow" class="window custom-scrollbar">
		<h2>Game Options</h2>
		<div id="selected-packs-list">
			<!-- List of selected packs will be populated by JS -->
		</div>

		<div class="button-container">
			<button id="changePacksButton" class="hk-button">Select Image Packs</button>
		</div>


		<div class="option">
			<label for="difficultySelector">Difficulty:</label>
			<select id="difficultySelector">
				<option value="all">All</option>
				<option value="attuned">Attuned</option>
				<option value="ascended">Ascended</option>
				<option value="radiant">Radiant</option>
				<option value="custom">Custom</option>
			</select>
		</div>
		<div class="option" id="customDifficultyDiv" style="display: none;">
			<label>Custom Difficulty:</label>
			<div class="custom-difficulty-inputs">
				<div class="range-container">
					<label for="minDifficulty">Min: <span id="minDifficultyValue">1</span></label>
					<input type="range" id="minDifficulty" min="1" max="10" value="1" />
				</div>
				<div class="range-container">
					<label for="maxDifficulty">Max: <span id="maxDifficultyValue">10</span></label>
					<input type="range" id="maxDifficulty" min="1" max="10" value="10" />
				</div>
			</div>
		</div>

		<div class="option">
			<label for="roundCount">Round count: </label>
			<input type="text" id="roundCount" name="roundCount" min="1" value="5" placeholder="5" />
		</div>

		<!--Time Limit-->
		<div class="option">
			<label for="timeLimitEnabled">Time Limit?: </label>
			<input type="checkbox" id="timeLimitEnabled" name="timeLimitEnabled"
				data-toggle-target="timerLengthOption" />
		</div>

		<div class="option" id="timerLengthOption">
			<label for="timerLength">Limit (s): </label>
			<select id="timerLength" name="timerLength">
				<option value="5">5s</option>
				<option value="10">10s</option>
				<option value="30" selected>30s</option>
			</select>
		</div>





		<div class="button-container">
			<button id="quitToMenuButton" class="hk-button" onclick="window.location.href = 'index.html'">Quit to
				Menu</button>
			<button id="startButton" class="hk-button">Start Game</button>
		</div>

	</div>

	<div id="packSelectWindow" class="window">

		<h2>Select Image Packs</h2>

		<div class="custom-scrollbar" id="packChoices">

		</div>

		<div style="display: flex; flex-direction: column; align-items: center; justify-content: center; ">
			<button class="hk-button" id="loadPackButton" onclick="document.getElementById('customImagePack').click()">
				Load Custom Pack (.zip)
				<input type="file" id="customImagePack" accept=".zip" style="display: none" />
			</button>

			<button class="hk-button" id="packSelectBackButton">Done</button>
		</div>


	</div>

	<div id="gameOverWindow" class="window">
		<h2>Game Over</h2>
		<p id="finalScore">Final Score:</p>
		<p id="accuracy">Accuracy:</p>
		<p id="totalRounds">Total Rounds:</p>
		<p id="timerLengthDisplay">Timer Length:</p>
		<p id="seedDisplay">Seed:</p>
		<div class="button-container">
			<button id="playAgainButton" class="hk-button">Play Again</button>
			<button id="mainMenuButton" class="hk-button">Main Menu</button>
		</div>

	</div>

	<div id="confirmationWindow" class="window">
		<h2 id="confirmationTitle">Confirm</h2>
		<p id="confirmationMessage" style="font-size: 1.1rem; margin: 1rem 0;"></p>
		<div id="confirmationButtons" class="button-container">
			<!-- Buttons will be dynamically added here -->
		</div>
	</div>

	<div id="debugWindow" style="display: none;">
		<div id="debugText">

		</div>
	</div>

</body>

</html>